<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokemon 3D - Sinh ƒê·ªông Interactive</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      overflow: hidden;
      background: linear-gradient(135deg, #0f1419 0%, #1a2a5e 50%, #0f1419 100%);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #fff;
    }
    canvas { width: 100%; height: 100%; display: block; }
    .header {
      position: absolute;
      top: 20px;
      left: 20px;
      z-index: 100;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
      animation: slideInDown 0.6s ease-out;
    }
    .header h1 {
      font-size: 2.5rem;
      font-weight: 700;
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 5px;
    }
    .header p { font-size: 1rem; color: #aaa; }
    .info-panel {
      position: absolute;
      bottom: 30px;
      left: 30px;
      background: rgba(15, 20, 25, 0.85);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 20px 30px;
      z-index: 100;
      min-width: 250px;
      animation: slideInUp 0.6s ease-out 0.2s both;
    }
    .info-panel h2 {
      font-size: 1.8rem;
      margin-bottom: 8px;
      color: #4ecdc4;
    }
    .info-panel p {
      font-size: 0.9rem;
      color: #aaa;
      margin-bottom: 15px;
    }
    .controls-hint {
      font-size: 0.85rem;
      color: #888;
      padding: 10px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      text-align: center;
    }
    .pokemon-selector {
      position: absolute;
      bottom: 30px;
      right: 30px;
      display: flex;
      gap: 12px;
      z-index: 100;
      animation: slideInRight 0.6s ease-out 0.3s both;
    }
    .poke-btn {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: 2px solid rgba(255, 255, 255, 0.3);
      background: rgba(15, 20, 25, 0.85);
      cursor: pointer;
      font-size: 1.5rem;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    .poke-btn:hover {
      border-color: rgba(255, 255, 255, 0.6);
      transform: scale(1.1);
    }
    .poke-btn.active {
      border-color: #4ecdc4;
      background: rgba(78, 205, 196, 0.2);
      box-shadow: 0 0 20px rgba(78, 205, 196, 0.5);
    }
    .footer {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.85rem;
      color: #666;
      z-index: 100;
    }
    @keyframes slideInDown {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes slideInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(30px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @media (max-width: 768px) {
      .header h1 { font-size: 1.8rem; }
      .info-panel { bottom: 20px; left: 20px; min-width: 200px; padding: 15px 20px; }
      .pokemon-selector { bottom: 20px; right: 20px; gap: 8px; }
      .poke-btn { width: 40px; height: 40px; font-size: 1.2rem; }
    }
  </style>
</head>
<body>
  <canvas id="poke-canvas"></canvas>
  
  <header class="header">
    <h1>üî• POK√âMON 3D üåä</h1>
    <p>Kh√°m ph√° th·∫ø gi·ªõi Pok√©mon sinh ƒë·ªông</p>
  </header>

  <div class="info-panel">
    <h2 id="poke-name">Pikachu</h2>
    <p id="poke-desc">Pok√©mon lo·∫°i ƒêi·ªán - Xoay chu·ªôt ƒë·ªÉ xem 360¬∞</p>
    <div class="controls-hint">
      <span>üñ±Ô∏è Drag ƒë·ªÉ xoay | üîç Scroll ƒë·ªÉ zoom</span>
    </div>
  </div>

  <div class="pokemon-selector">
    <button class="poke-btn active" data-name="Pikachu">‚ö°</button>
    <button class="poke-btn" data-name="Charizard">üî•</button>
    <button class="poke-btn" data-name="Blastoise">üíß</button>
    <button class="poke-btn" data-name="Venusaur">üåø</button>
  </div>

  <footer class="footer">
    <p>Made with ‚ù§Ô∏è | Three.js + WebGL</p>
  </footer>

  <script type="module">
    import * as THREE from 'https://unpkg.com/three@r161/build/three.module.js';
    import { OrbitControls } from 'https://unpkg.com/three@r161/examples/jsm/controls/OrbitControls.js';

    const canvas = document.querySelector('#poke-canvas');
    const scene = new THREE.Scene();
    scene.background = new THREE.Color('#050816');

    const camera = new THREE.PerspectiveCamera(
      50,
      window.innerWidth / window.innerHeight,
      0.1,
      100
    );
    camera.position.set(0, 1.2, 3.5);

    const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.shadowMap.enabled = true;

    // Lights
    const hemiLight = new THREE.HemisphereLight(0xffffff, 0x222233, 1.0);
    hemiLight.position.set(0, 2, 0);
    scene.add(hemiLight);

    const dirLight = new THREE.DirectionalLight(0xffffff, 1.2);
    dirLight.position.set(5, 8, 4);
    dirLight.castShadow = true;
    scene.add(dirLight);

    const ambLight = new THREE.AmbientLight(0xffffff, 0.5);
    scene.add(ambLight);

    // Floor
    const floorGeo = new THREE.CircleGeometry(4, 128);
    const floorMat = new THREE.MeshStandardMaterial({
      color: 0x1a3a52,
      emissive: 0x0a1f2e,
      metalness: 0.8,
      roughness: 0.2,
    });
    const floor = new THREE.Mesh(floorGeo, floorMat);
    floor.rotation.x = -Math.PI / 2;
    floor.position.y = -0.5;
    floor.receiveShadow = true;
    scene.add(floor);

    // Stars
    const starGeo = new THREE.BufferGeometry();
    const starMat = new THREE.PointsMaterial({ color: 0xffffff, size: 0.1 });
    const starVert = new Float32Array();
    for (let i = 0; i < 100; i++) {
      starVert.push(
        (Math.random() - 0.5) * 100,
        Math.random() * 50,
        (Math.random() - 0.5) * 100
      );
    }
    starGeo.setAttribute('position', new THREE.BufferAttribute(starVert, 3));
    const stars = new THREE.Points(starGeo, starMat);
    scene.add(stars);

    // Fallback cube Pokemon
    const cubeGeo = new THREE.BoxGeometry(1, 1.5, 1);
    const cubeMat = new THREE.MeshStandardMaterial({ color: 0xffcc00 });
    let pokemon = new THREE.Mesh(cubeGeo, cubeMat);
    pokemon.castShadow = true;
    pokemon.receiveShadow = true;
    scene.add(pokemon);

    // Controls
    const controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;
    controls.autoRotate = true;
    controls.autoRotateSpeed = 2;
    controls.target.set(0, 0.5, 0);
    controls.minDistance = 2;
    controls.maxDistance = 8;

    const clock = new THREE.Clock();

    function animate() {
      requestAnimationFrame(animate);
      const elapsed = clock.getElapsedTime();

      if (pokemon) {
        pokemon.position.y = -0.3 + Math.sin(elapsed * 1.5) * 0.08;
      }

      controls.update();
      renderer.render(scene, camera);
    }

    animate();

    window.addEventListener('resize', () => {
      const width = window.innerWidth;
      const height = window.innerHeight;
      camera.aspect = width / height;
      camera.updateProjectionMatrix();
      renderer.setSize(width, height);
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    });

    // Pokemon selector
    document.querySelectorAll('.poke-btn').forEach((btn, idx) => {
      btn.addEventListener('click', () => {
        const names = ['Pikachu', 'Charizard', 'Blastoise', 'Venusaur'];
        document.querySelector('#poke-name').textContent = names[idx];
        document.querySelectorAll('.poke-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
      });
    });
  </script>
</body>
</html>
